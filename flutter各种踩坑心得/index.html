<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Flutterå„ç§è¸©å‘å¿ƒå¾— - ğŸ‘¨ğŸ»â€ğŸ’»</title><meta name="Description" content="æ—©èµ·çš„å¹´è½»äººåšçš„ç½‘ç«™"><meta property="og:title" content="Flutterå„ç§è¸©å‘å¿ƒå¾—" />
<meta property="og:description" content="1.å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½® é¦–å…ˆä¿®æ”¹ä½ åˆ›å»ºçš„é¡¹ç›®ä¸­çš„/android/build.gradleæ–‡ä»¶ï¼Œä¿®æ”¹buildscriptä»¥åŠallpro" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://luckly.work/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/" />
<meta property="og:image" content="https://luckly.work/logo.png"/>
<meta property="article:published_time" content="2020-12-05T16:06:56+08:00" />
<meta property="article:modified_time" content="2020-12-05T16:06:56+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://luckly.work/logo.png"/>

<meta name="twitter:title" content="Flutterå„ç§è¸©å‘å¿ƒå¾—"/>
<meta name="twitter:description" content="1.å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½® é¦–å…ˆä¿®æ”¹ä½ åˆ›å»ºçš„é¡¹ç›®ä¸­çš„/android/build.gradleæ–‡ä»¶ï¼Œä¿®æ”¹buildscriptä»¥åŠallpro"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="canonical" href="https://luckly.work/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/" /><link rel="prev" href="https://luckly.work/flutter%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/" /><link rel="next" href="https://luckly.work/react%E8%B0%83%E5%BA%A6%E8%BF%87%E7%A8%8B/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Flutterå„ç§è¸©å‘å¿ƒå¾—",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/luckly.work\/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97\/"
        },"image": ["https:\/\/luckly.work\/images\/Apple-Devices-Preview.png"],"genre": "posts","wordcount":  2994 ,
        "url": "https:\/\/luckly.work\/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97\/","datePublished": "2020-12-05T16:06:56+08:00","dateModified": "2020-12-05T16:06:56+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/luckly.work\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "æ—©èµ·çš„è€å¹´äºº"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="ğŸ‘¨ğŸ»â€ğŸ’»"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"><i class='fa fa-book'></i> æ–‡ç«  </a><a class="menu-item" href="/categories/"><i class='fa fa-th'></i> åˆ†ç±» </a><a class="menu-item" href="/about/"><i class='fa fa-info-circle'></i> å…³äº </a><a class="menu-item" href="https://github.com/xtid" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i> Github </a><a class="menu-item" href="/links/"><i class='fas fa-user-friends'></i> å‹é“¾ </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="ğŸ‘¨ğŸ»â€ğŸ’»"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title=""><i class='fa fa-book'></i>æ–‡ç« </a><a class="menu-item" href="/categories/" title=""><i class='fa fa-th'></i>åˆ†ç±»</a><a class="menu-item" href="/about/" title=""><i class='fa fa-info-circle'></i>å…³äº</a><a class="menu-item" href="https://github.com/xtid" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>Github</a><a class="menu-item" href="/links/" title=""><i class='fas fa-user-friends'></i>å‹é“¾</a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Flutterå„ç§è¸©å‘å¿ƒå¾—</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>æ—©èµ·çš„è€å¹´äºº</a></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"><i class="far fa-folder fa-fw"></i>æ—¥å¸¸å­¦ä¹ </a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-12-05">2020-12-05</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 2994 å­—&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 6 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®">1.å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®</a></li>
        <li><a href="#2signlechildscrollviewé¡µé¢ä¸æ»¡ä¸€å±æ— æ³•æ’‘æ»¡å…¨å±">2.SignleChildScrollViewé¡µé¢ä¸æ»¡ä¸€å±æ— æ³•æ’‘æ»¡å…¨å±</a></li>
        <li><a href="#3è‡ªå®šä¹‰appbar">3.è‡ªå®šä¹‰AppBar</a></li>
        <li><a href="#4pushé¡µé¢è¿”å›ä¿æŒä¸Šä¸€æ¬¡çš„é¡µé¢ä½ç½®çŠ¶æ€">4.pushé¡µé¢è¿”å›ï¼Œä¿æŒä¸Šä¸€æ¬¡çš„é¡µé¢ä½ç½®çŠ¶æ€</a></li>
        <li><a href="#5è·¯ç”±è·³è½¬æ–¹å¼çš„é€‰æ‹©">5.è·¯ç”±è·³è½¬æ–¹å¼çš„é€‰æ‹©</a></li>
        <li><a href="#6é¡µé¢åˆå§‹åŒ–æ—¶æ‹¿åˆ°context">6.é¡µé¢åˆå§‹åŒ–æ—¶æ‹¿åˆ°context</a></li>
        <li><a href="#7é”®ç›˜å¼¹å‡ºæ—¶å°†å¸ƒå±€æ‰“ä¹±æˆ–è€…è¯´å°†å…ƒç´ é¡¶èµ·æ¥äº†">7.é”®ç›˜å¼¹å‡ºæ—¶å°†å¸ƒå±€æ‰“ä¹±ï¼Œæˆ–è€…è¯´å°†å…ƒç´ é¡¶èµ·æ¥äº†</a></li>
        <li><a href="#8æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†">8.æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†</a></li>
        <li><a href="#9ä½¿ç”¨dioæ—¶è®¾ç½®ç›¸åº”æ•°æ®çš„åª’ä½“ç±»å‹">9.ä½¿ç”¨Dioæ—¶ï¼Œè®¾ç½®ç›¸åº”æ•°æ®çš„åª’ä½“ç±»å‹</a></li>
        <li><a href="#10buildé…ç½®">10.buildé…ç½®</a>
          <ul>
            <li><a href="#1å®‰å“çš„sha1ç è·å–æ–¹å¼">1.å®‰å“çš„SHA1ç è·å–æ–¹å¼</a></li>
            <li><a href="#2å®‰å“æ‰“åŒ…releaseé…ç½®">2.å®‰å“æ‰“åŒ…<code>release</code>é…ç½®</a></li>
            <li><a href="#3iosè°ƒè¯•æ‰“åŒ…æ³¨æ„äº‹é¡¹">3.iOSè°ƒè¯•æ‰“åŒ…æ³¨æ„äº‹é¡¹</a></li>
          </ul>
        </li>
        <li><a href="#11æ€»ç»“">11.æ€»ç»“</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="1å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®">1.å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®</h2>
<p>é¦–å…ˆä¿®æ”¹ä½ åˆ›å»ºçš„é¡¹ç›®ä¸­çš„<code>/android/build.gradle</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>buildscript</code>ä»¥åŠ<code>allprojects</code>çš„ä»“åº“åœ°å€ï¼Œå¦åˆ™ç¼–è¯‘æ‰“åŒ…ä¼šå¡ä½ä¸åŠ¨ï¼Œå…¶æ¬¡å°±æ˜¯<code>package get</code>ä¼šå¡ä½ï¼ŒåŸå› æ˜¯å› ä¸ºè¿æ¥ä¸ä¸Šè°·æ­Œçš„æœåŠ¡ï¼Œæœ‰ç‚¹è›‹ç–¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">buildscript</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="c1">// google()
</span><span class="c1"></span>        <span class="c1">// jcenter()
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/repository/google&#39; }
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/repository/jcenter&#39; }
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/nexus/content/groups/public&#39; }
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>

<span class="n">allprojects</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="c1">// google()
</span><span class="c1"></span>        <span class="c1">// jcenter()
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/repository/google&#39; }
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/repository/jcenter&#39; }
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/nexus/content/groups/public&#39; }
</span><span class="c1"></span>    <span class="o">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="2signlechildscrollviewé¡µé¢ä¸æ»¡ä¸€å±æ— æ³•æ’‘æ»¡å…¨å±">2.SignleChildScrollViewé¡µé¢ä¸æ»¡ä¸€å±æ— æ³•æ’‘æ»¡å…¨å±</h2>
<p>å¯ä»¥æ¢ä¸ªå¸ƒå±€ç»„ä»¶æˆ–è€…å°†å…¶è®¾ç½®ä¸º<code>Container</code>å­ç»„ä»¶ï¼Œè®¾ç½®<code>alignment</code>ï¼Œå¦‚ä¸‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-dart" data-lang="dart"><span class="n">Container</span><span class="p">(</span>
  <span class="nl">alignment:</span> <span class="n">Alignment</span><span class="p">.</span><span class="n">topLeft</span><span class="p">,</span>
  <span class="nl">child:</span> <span class="n">SingleChildScrollView</span><span class="p">(),</span>
<span class="p">),</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="3è‡ªå®šä¹‰appbar">3.è‡ªå®šä¹‰AppBar</h2>
<p><code>AppBar</code>è¿™ä¸ªç»„ä»¶å¯æ‹“å±•æ€§è¿˜æ˜¯æ¯”è¾ƒä½çš„ï¼Œå°¤å…¶æ˜¯å®ƒçš„é«˜åº¦éƒ½æ˜¯å†™æ­»çš„ï¼Œè¿™ç§æƒ…å†µå¯ä»¥æ¢<code>SliverAppBar</code>æˆ–è€…è‡ªå®šä¹‰<code>AppBar</code>ï¼Œæ¢å¥è¯è¯´è‡ªå®šä¹‰ç»„ä»¶ï¼Œè¿™é‡Œå°±ä¸è¯¦è¯‰</p>
<h2 id="4pushé¡µé¢è¿”å›ä¿æŒä¸Šä¸€æ¬¡çš„é¡µé¢ä½ç½®çŠ¶æ€">4.pushé¡µé¢è¿”å›ï¼Œä¿æŒä¸Šä¸€æ¬¡çš„é¡µé¢ä½ç½®çŠ¶æ€</h2>
<p>ä½¿ç”¨ <code>StatefulWidget</code> æ··å…¥ <code>AutomaticKeepAliveClientMixin</code>ï¼Œè¦†ç›–<code>wantKeepAlive</code>å±æ€§</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-dart" data-lang="dart"><span class="kd">class</span> <span class="nc">TesPage</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="err">@</span><span class="n">override</span>
  <span class="n">createState</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">TesPageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">TesPageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">TesPage</span><span class="o">&gt;</span> <span class="kd">with</span> <span class="n">AutomaticKeepAliveClientMixin</span> <span class="p">{</span>
  
  <span class="err">@</span><span class="n">override</span>
  <span class="kt">bool</span> <span class="kd">get</span> <span class="n">wantKeepAlive</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="5è·¯ç”±è·³è½¬æ–¹å¼çš„é€‰æ‹©">5.è·¯ç”±è·³è½¬æ–¹å¼çš„é€‰æ‹©</h2>
<p>é€šå¸¸è·¯ç”±è·³è½¬ä¼šç”¨åˆ°<code>Navigator.push</code>æ¨å…¥è·¯ç”±æ ˆï¼Œ<code>Navigator.pop</code>å°±ç§»å‡ºã€è¿”å›ä¸Šä¸€ä¸ªçš„çŠ¶æ€ã€‚å¦‚æœåœ¨é¡µé¢ä¸Šå…¨éƒ¨ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œä½ ä¼šå‘ç°ä½ çš„é¡µé¢é—´çš„è·³è½¬ä»¿ä½›ä¹±äº†ä¸€æ ·ï¼ŒåŸå› å°±æ˜¯<code>Navigator.push</code>æ˜¯æ¯æ¬¡å°†ä½ çš„è·¯ç”±æ¨å…¥æ ˆï¼Œä¹Ÿå°±æ˜¯ä½ å¯ä»¥ä¸€ç›´åšè¿”å›æ“ä½œã€æ‰‹åŠ¿æ¥è·å–ä¹‹å‰çš„é¡µé¢çŠ¶æ€ã€‚è¿™ä¸ªæ—¶å€™å°±è¦è€ƒè™‘ç”¨å…¶ä»–æ–¹å¼ï¼Œå¦‚</p>
<p><code>pushAndRemoveUntil</code>ï¼šè·³è½¬åˆ°æŒ‡å®šè·¯ç”±ï¼Œåˆ é™¤å…ˆå‰çš„è·¯ç”±æ ˆ
<code>pushNamed</code>ï¼šè·³è½¬åˆ°æŒ‡å®šå‘½åè·¯ç”±ï¼Œè·¯ç”±æ ˆä¸ä¼šåˆ é™¤ã€‚è¿™ç§æ–¹å¼éœ€è¦é…åˆå‘½åè·¯ç”±ä½¿ç”¨ï¼Œå³åœ¨å…¥å£æ–‡ä»¶<code>MaterialApp</code>é…ç½®å¥½<code>routes</code>
<code>pushNamedAndRemoveUntil</code>ï¼šè·³è½¬åˆ°æŒ‡å®šè·¯ç”±ï¼Œåˆ é™¤å…ˆå‰çš„è·¯ç”±æ ˆ
<code>pushReplacement</code>ï¼šè·¯ç”±æ›¿æ¢
<code>pushReplacementNamed</code>ï¼šè·³è½¬åˆ°æŒ‡å®šå‘½åè·¯ç”±ï¼Œå¹¶åˆ é™¤æœ€åçš„è·¯ç”±</p>
<h2 id="6é¡µé¢åˆå§‹åŒ–æ—¶æ‹¿åˆ°context">6.é¡µé¢åˆå§‹åŒ–æ—¶æ‹¿åˆ°context</h2>
<p>æœ‰æ—¶å€™ï¼Œå¯èƒ½ä¼šåœ¨é¡µé¢åˆå§‹åŒ–ä½¿ç”¨<code>context</code>ï¼Œæ¯”å¦‚è¯´è·¯ç”±ç›¸å…³çš„<code>Navigator.of(context)</code>ã€‚è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨<code>initState</code>æ–¹æ³•ä¸­ï¼Œ<code>this</code>æŒ‡å‘ä¸Šä¸‹æ–‡ï¼Œå³ä½¿ç”¨<code>this.context</code>å³å¯ä»¥ä¿å­˜é¡µé¢åˆå§‹çš„<code>context</code></p>
<h2 id="7é”®ç›˜å¼¹å‡ºæ—¶å°†å¸ƒå±€æ‰“ä¹±æˆ–è€…è¯´å°†å…ƒç´ é¡¶èµ·æ¥äº†">7.é”®ç›˜å¼¹å‡ºæ—¶å°†å¸ƒå±€æ‰“ä¹±ï¼Œæˆ–è€…è¯´å°†å…ƒç´ é¡¶èµ·æ¥äº†</h2>
<p>åœ¨ <code>Scafold</code> é‡Œè®¾ç½® <code>resizeToAvoidBottomInset: false</code>ï¼Œé”®ç›˜ä¼šé®ä½å¸ƒå±€ï¼Œè€Œä¸æ˜¯é¡¶èµ·å¸ƒå±€ã€‚</p>
<h2 id="8æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†">8.æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†</h2>
<p>è¯´å®è¯å½“æ—¶å‘ç°<code>Flutter</code>æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†çš„æ—¶å€™æˆ‘æ˜¯å¾ˆéœ‡æƒŠçš„ï¼Œæˆ‘æ„Ÿè§‰è¿™ç®—æ˜¯åŸºæœ¬çš„ä¸èƒ½åœ¨åŸºæœ¬çš„å±æ€§äº†ï¼Œè§£å†³æ–¹æ³•ï¼Œå‚è€ƒå®˜æ–¹<code>issues</code>ä¸­å¤§ä½¬çš„è§£æ³•ï¼Œç›®å‰åªèƒ½è‡ªå·±å®ç°<code>paint</code>æ–¹æ³•ï¼Œè‡ªå·±ç”¨<code>Canvas</code>ç”»</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-dart" data-lang="dart"><span class="k">import</span> <span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;package:path_drawing/path_drawing.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span> <span class="n">main</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="err">@</span><span class="n">override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="p">(</span>
      <span class="nl">title:</span> <span class="s1">&#39;Flutter Demo&#39;</span><span class="p">,</span>
      <span class="nl">theme:</span> <span class="n">ThemeData</span><span class="p">(</span>
        <span class="nl">primarySwatch:</span> <span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
      <span class="p">),</span>
      <span class="nl">home:</span> <span class="n">MyHomePage</span><span class="p">(</span><span class="nl">title:</span> <span class="s1">&#39;Flutter Demo Home Page&#39;</span><span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MyHomePage</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="n">MyHomePage</span><span class="p">({</span><span class="n">Key</span> <span class="n">key</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">title</span><span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>
  <span class="kd">final</span> <span class="kt">String</span> <span class="n">title</span><span class="p">;</span>

  <span class="err">@</span><span class="n">override</span>
  <span class="n">_MyHomePageState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">_MyHomePageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_MyHomePageState</span> <span class="kd">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">_counter</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>

  <span class="kt">void</span> <span class="n">_incrementCounter</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">setState</span><span class="p">(()</span> <span class="p">{</span>
      <span class="n">_counter</span><span class="o">++</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="err">@</span><span class="n">override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Scaffold</span><span class="p">(</span>
      <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
        <span class="nl">title:</span> <span class="n">Text</span><span class="p">(</span><span class="n">widget</span><span class="p">.</span><span class="n">title</span><span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">body:</span> <span class="n">Center</span><span class="p">(</span>
        <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
          <span class="nl">mainAxisAlignment:</span> <span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
          <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="p">[</span>
            <span class="n">Container</span><span class="p">(</span>
              <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="p">(</span>
                <span class="nl">border:</span> <span class="n">DashPathBorder</span><span class="p">.</span><span class="n">all</span><span class="p">(</span>
                  <span class="nl">dashArray:</span> <span class="n">CircularIntervalList</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">[</span><span class="m">5.0</span><span class="p">,</span> <span class="m">2.5</span><span class="p">]),</span>
                <span class="p">),</span>
              <span class="p">),</span>
              <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20.0</span><span class="p">),</span>
              <span class="nl">child:</span> <span class="kd">const</span> <span class="n">Text</span><span class="p">(</span><span class="s1">&#39;You have pushed the button this many times:&#39;</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="n">Text</span><span class="p">(</span>
              <span class="s1">&#39;</span><span class="si">$</span><span class="n">_counter</span><span class="s1">&#39;</span><span class="p">,</span>
              <span class="nl">style:</span> <span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">textTheme</span><span class="p">.</span><span class="n">display1</span><span class="p">,</span>
            <span class="p">),</span>
          <span class="p">],</span>
        <span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">floatingActionButton:</span> <span class="n">FloatingActionButton</span><span class="p">(</span>
        <span class="nl">onPressed:</span> <span class="n">_incrementCounter</span><span class="p">,</span>
        <span class="nl">tooltip:</span> <span class="s1">&#39;Increment&#39;</span><span class="p">,</span>
        <span class="nl">child:</span> <span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">DashPathBorder</span> <span class="kd">extends</span> <span class="n">Border</span> <span class="p">{</span>
  <span class="n">DashPathBorder</span><span class="p">({</span>
    <span class="err">@</span><span class="n">required</span> <span class="k">this</span><span class="p">.</span><span class="n">dashArray</span><span class="p">,</span>
    <span class="n">BorderSide</span> <span class="n">top</span> <span class="o">=</span> <span class="n">BorderSide</span><span class="p">.</span><span class="n">none</span><span class="p">,</span>
    <span class="n">BorderSide</span> <span class="n">left</span> <span class="o">=</span> <span class="n">BorderSide</span><span class="p">.</span><span class="n">none</span><span class="p">,</span>
    <span class="n">BorderSide</span> <span class="n">right</span> <span class="o">=</span> <span class="n">BorderSide</span><span class="p">.</span><span class="n">none</span><span class="p">,</span>
    <span class="n">BorderSide</span> <span class="n">bottom</span> <span class="o">=</span> <span class="n">BorderSide</span><span class="p">.</span><span class="n">none</span><span class="p">,</span>
  <span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span>
          <span class="nl">top:</span> <span class="n">top</span><span class="p">,</span>
          <span class="nl">left:</span> <span class="n">left</span><span class="p">,</span>
          <span class="nl">right:</span> <span class="n">right</span><span class="p">,</span>
          <span class="nl">bottom:</span> <span class="n">bottom</span><span class="p">,</span>
        <span class="p">);</span>

  <span class="kd">factory</span> <span class="n">DashPathBorder</span><span class="p">.</span><span class="n">all</span><span class="p">({</span>
    <span class="n">BorderSide</span> <span class="n">borderSide</span> <span class="o">=</span> <span class="kd">const</span> <span class="n">BorderSide</span><span class="p">(),</span>
    <span class="err">@</span><span class="n">required</span> <span class="n">CircularIntervalList</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">dashArray</span><span class="p">,</span>
  <span class="p">})</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">DashPathBorder</span><span class="p">(</span>
      <span class="nl">dashArray:</span> <span class="n">dashArray</span><span class="p">,</span>
      <span class="nl">top:</span> <span class="n">borderSide</span><span class="p">,</span>
      <span class="nl">right:</span> <span class="n">borderSide</span><span class="p">,</span>
      <span class="nl">left:</span> <span class="n">borderSide</span><span class="p">,</span>
      <span class="nl">bottom:</span> <span class="n">borderSide</span><span class="p">,</span>
    <span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">final</span> <span class="n">CircularIntervalList</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">dashArray</span><span class="p">;</span>

  <span class="err">@</span><span class="n">override</span>
  <span class="kt">void</span> <span class="n">paint</span><span class="p">(</span>
    <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">,</span>
    <span class="n">Rect</span> <span class="n">rect</span><span class="p">,</span> <span class="p">{</span>
    <span class="n">TextDirection</span> <span class="n">textDirection</span><span class="p">,</span>
    <span class="n">BoxShape</span> <span class="n">shape</span> <span class="o">=</span> <span class="n">BoxShape</span><span class="p">.</span><span class="n">rectangle</span><span class="p">,</span>
    <span class="n">BorderRadius</span> <span class="n">borderRadius</span><span class="p">,</span>
  <span class="p">})</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">isUniform</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">switch</span> <span class="p">(</span><span class="n">top</span><span class="p">.</span><span class="n">style</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">BorderStyle</span><span class="p">.</span><span class="nl">none:</span>
          <span class="k">return</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">BorderStyle</span><span class="p">.</span><span class="nl">solid:</span>
          <span class="k">switch</span> <span class="p">(</span><span class="n">shape</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="n">BoxShape</span><span class="p">.</span><span class="nl">circle:</span>
              <span class="k">assert</span><span class="p">(</span><span class="n">borderRadius</span> <span class="o">==</span> <span class="kc">null</span><span class="p">,</span>
                  <span class="s1">&#39;A borderRadius can only be given for rectangular boxes.&#39;</span><span class="p">);</span>
              <span class="n">canvas</span><span class="p">.</span><span class="n">drawPath</span><span class="p">(</span>
                <span class="n">dashPath</span><span class="p">(</span><span class="n">Path</span><span class="p">()..</span><span class="n">addOval</span><span class="p">(</span><span class="n">rect</span><span class="p">),</span> <span class="nl">dashArray:</span> <span class="n">dashArray</span><span class="p">),</span>
                <span class="n">top</span><span class="p">.</span><span class="n">toPaint</span><span class="p">(),</span>
              <span class="p">);</span>
              <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">BoxShape</span><span class="p">.</span><span class="nl">rectangle:</span>
              <span class="k">if</span> <span class="p">(</span><span class="n">borderRadius</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">final</span> <span class="n">RRect</span> <span class="n">rrect</span> <span class="o">=</span>
                    <span class="n">RRect</span><span class="p">.</span><span class="n">fromRectAndRadius</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">borderRadius</span><span class="p">.</span><span class="n">topLeft</span><span class="p">);</span>
                <span class="n">canvas</span><span class="p">.</span><span class="n">drawPath</span><span class="p">(</span>
                  <span class="n">dashPath</span><span class="p">(</span><span class="n">Path</span><span class="p">()..</span><span class="n">addRRect</span><span class="p">(</span><span class="n">rrect</span><span class="p">),</span> <span class="nl">dashArray:</span> <span class="n">dashArray</span><span class="p">),</span>
                  <span class="n">top</span><span class="p">.</span><span class="n">toPaint</span><span class="p">(),</span>
                <span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
              <span class="p">}</span>
              <span class="n">canvas</span><span class="p">.</span><span class="n">drawPath</span><span class="p">(</span>
                <span class="n">dashPath</span><span class="p">(</span><span class="n">Path</span><span class="p">()..</span><span class="n">addRect</span><span class="p">(</span><span class="n">rect</span><span class="p">),</span> <span class="nl">dashArray:</span> <span class="n">dashArray</span><span class="p">),</span>
                <span class="n">top</span><span class="p">.</span><span class="n">toPaint</span><span class="p">(),</span>
              <span class="p">);</span>

              <span class="k">break</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">assert</span><span class="p">(</span><span class="n">borderRadius</span> <span class="o">==</span> <span class="kc">null</span><span class="p">,</span>
        <span class="s1">&#39;A borderRadius can only be given for uniform borders.&#39;</span><span class="p">);</span>
    <span class="k">assert</span><span class="p">(</span><span class="n">shape</span> <span class="o">==</span> <span class="n">BoxShape</span><span class="p">.</span><span class="n">rectangle</span><span class="p">,</span>
        <span class="s1">&#39;A border can only be drawn as a circle if it is uniform.&#39;</span><span class="p">);</span>

    <span class="c1">// TODO(dnfield): implement when borders are not uniform.
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="9ä½¿ç”¨dioæ—¶è®¾ç½®ç›¸åº”æ•°æ®çš„åª’ä½“ç±»å‹">9.ä½¿ç”¨Dioæ—¶ï¼Œè®¾ç½®ç›¸åº”æ•°æ®çš„åª’ä½“ç±»å‹</h2>
<p>ä½¿ç”¨<code>Dio</code>å°è£…ç½‘ç»œè¯·æ±‚ï¼Œæ™®é€šçš„è¯·æ±‚æœ€å¥½è®¾ç½®ç›¸åº”ç±»å‹<code>dio.options.responseType = ResponseType.json</code>ï¼Œå¦åˆ™å¯èƒ½æ¥æ”¶åˆ°çš„å“åº”å¯èƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<h2 id="10buildé…ç½®">10.buildé…ç½®</h2>
<h3 id="1å®‰å“çš„sha1ç è·å–æ–¹å¼">1.å®‰å“çš„SHA1ç è·å–æ–¹å¼</h3>
<p>å¾ˆå¤šç¬¬ä¸‰æ–¹åº”ç”¨éƒ½éœ€è¦ç”¨åˆ°å®‰å“çš„SHA1ç ï¼Œåœ¨<code>Flutter</code>åº”ç”¨ä¸­ï¼Œé¦–å…ˆç”¨<code>Andriod Studio</code>æ‰“å¼€é¡¹ç›®ï¼Œéšæ„é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶ï¼Œç‚¹å‡»å³ä¸Šè§’<code>Open for Editing in Android Studio</code></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://i.loli.net/2020/12/05/KrYUhiXpHu3cLBs.png"
        data-srcset="https://i.loli.net/2020/12/05/KrYUhiXpHu3cLBs.png, https://i.loli.net/2020/12/05/KrYUhiXpHu3cLBs.png 1.5x, https://i.loli.net/2020/12/05/KrYUhiXpHu3cLBs.png 2x"
        data-sizes="auto"
        alt="https://i.loli.net/2020/12/05/KrYUhiXpHu3cLBs.png"
        title="1.png" /></p>
<p>æ‰“å¼€<code>Terminal</code>ï¼Œè¾“å…¥<code>gradlew signingReport</code>ï¼Œmacç¯å¢ƒéœ€è¦æŒ‡å®šå½“å‰ç›®å½•</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://i.loli.net/2020/12/05/BxEfHGOAtQcLSn7.png"
        data-srcset="https://i.loli.net/2020/12/05/BxEfHGOAtQcLSn7.png, https://i.loli.net/2020/12/05/BxEfHGOAtQcLSn7.png 1.5x, https://i.loli.net/2020/12/05/BxEfHGOAtQcLSn7.png 2x"
        data-sizes="auto"
        alt="https://i.loli.net/2020/12/05/BxEfHGOAtQcLSn7.png"
        title="2.png" /></p>
<p>æœ€åæ§åˆ¶å°ä¼šæ‰“å°å‡ºåº”ç”¨çš„å„ç§ç­¾åä¿¡æ¯ï¼Œå¤åˆ¶<code>SHA1</code>ç å³å¯</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://i.loli.net/2020/12/05/6cKCEUzuBRS5Ohw.jpg"
        data-srcset="https://i.loli.net/2020/12/05/6cKCEUzuBRS5Ohw.jpg, https://i.loli.net/2020/12/05/6cKCEUzuBRS5Ohw.jpg 1.5x, https://i.loli.net/2020/12/05/6cKCEUzuBRS5Ohw.jpg 2x"
        data-sizes="auto"
        alt="https://i.loli.net/2020/12/05/6cKCEUzuBRS5Ohw.jpg"
        title="3.jpg" /></p>
<h3 id="2å®‰å“æ‰“åŒ…releaseé…ç½®">2.å®‰å“æ‰“åŒ…<code>release</code>é…ç½®</h3>
<p>é¦–å…ˆæ‰“å¼€<code>/android/build.gradle</code>æ–‡ä»¶ï¼Œåœ¨<code>buildscript</code>ä¸­æŒ‡å®š<code>kotlin_version</code>ï¼Œå¦åˆ™<code>debug</code>ã€<code>release</code>ç¼–è¯‘ä¼šä¸é€šè¿‡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">buildscript</span> <span class="o">{</span>
    <span class="n">ext</span><span class="o">.</span><span class="na">kotlin_version</span> <span class="o">=</span> <span class="err">&#39;</span><span class="n">1</span><span class="o">.</span><span class="na">3</span><span class="o">.</span><span class="na">50</span><span class="err">&#39;</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="c1">// google()
</span><span class="c1"></span>        <span class="c1">// jcenter()
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/repository/google&#39; }
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/repository/jcenter&#39; }
</span><span class="c1"></span>        <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="err">&#39;</span><span class="n">https</span><span class="o">:</span><span class="c1">//maven.aliyun.com/nexus/content/groups/public&#39; }
</span><span class="c1"></span>    <span class="o">}</span>

    <span class="n">dependencies</span> <span class="o">{</span>
        <span class="n">classpath</span> <span class="err">&#39;</span><span class="n">com</span><span class="o">.</span><span class="na">android</span><span class="o">.</span><span class="na">tools</span><span class="o">.</span><span class="na">build</span><span class="o">:</span><span class="n">gradle</span><span class="o">:</span><span class="n">3</span><span class="o">.</span><span class="na">5</span><span class="o">.</span><span class="na">0</span><span class="err">&#39;</span>
        <span class="n">classpath</span> <span class="s">&#34;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&#34;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ç„¶åç”Ÿæˆ<code>key</code>ï¼ŒåŒæ ·æ‰“å¼€<code>Andriod Studio</code>ï¼Œæ‰“å¼€<code>Terminal</code>ï¼Œè¾“å…¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">keytool</span> <span class="o">-</span><span class="n">genkey</span> <span class="o">-</span><span class="n">v</span> <span class="o">-</span><span class="n">keystore</span> <span class="o">~/</span><span class="n">key</span><span class="o">.</span><span class="na">jks</span> <span class="o">-</span><span class="n">keyalg</span> <span class="n">RSA</span> <span class="o">-</span><span class="n">keysize</span> <span class="n">2048</span> <span class="o">-</span><span class="n">validity</span> <span class="n">10000</span> <span class="o">-</span><span class="n">alias</span> <span class="n">key</span>
</code></pre></td></tr></table>
</div>
</div><p>ç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šè®©ä½ è¾“å…¥å­˜å‚¨å¯†ç å’Œæ–‡ä»¶å¯†ç ï¼Œç”Ÿæˆå®Œ<code>key</code>åè®°ä½æ–‡ä»¶åœ°å€</p>
<p>ç„¶ååœ¨åœ¨<code>android</code>ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºï¼š<code>key.properties</code></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://i.loli.net/2020/12/05/MuVAtUaI3TojQi6.jpg"
        data-srcset="https://i.loli.net/2020/12/05/MuVAtUaI3TojQi6.jpg, https://i.loli.net/2020/12/05/MuVAtUaI3TojQi6.jpg 1.5x, https://i.loli.net/2020/12/05/MuVAtUaI3TojQi6.jpg 2x"
        data-sizes="auto"
        alt="https://i.loli.net/2020/12/05/MuVAtUaI3TojQi6.jpg"
        title="05D6800C-27E4-4550-A7CD-88C691BC8202.png" /></p>
<p>æ·»åŠ å†…å®¹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">storePassword</span> <span class="o">=</span> <span class="c1">// å’Œç”Ÿæˆkeyè¾“å…¥çš„å­˜å‚¨å¯†ç ä¸€è‡´
</span><span class="c1"></span><span class="n">keyPassword</span> <span class="o">=</span> <span class="c1">// å’Œç”Ÿæˆkeyè¾“å…¥çš„å¯†ç ä¸€è‡´
</span><span class="c1"></span><span class="n">keyAlias</span> <span class="o">=</span> <span class="n">key</span> <span class="c1">// 
</span><span class="c1"></span><span class="n">storeFile</span> <span class="o">=</span> <span class="c1">// keyæ–‡ä»¶çš„å­˜å‚¨è·¯å¾„
</span></code></pre></td></tr></table>
</div>
</div><p>æ‰¾åˆ°<code>android/app/build.gradle</code>æ–‡ä»¶ï¼Œæ·»åŠ ç­¾åé…ç½®<code>singingConfig</code>ä»¥åŠæ‰“åŒ…é…ç½®<code>buildTypes</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">android</span> <span class="o">{</span>
		<span class="o">.....</span>
    <span class="n">signingConfigs</span> <span class="o">{</span>
        <span class="n">release</span> <span class="o">{</span>
            <span class="n">keyAlias</span> <span class="n">keystoreProperties</span><span class="o">[</span><span class="err">&#39;</span><span class="n">keyAlias</span><span class="err">&#39;</span><span class="o">]</span>
            <span class="n">keyPassword</span> <span class="n">keystoreProperties</span><span class="o">[</span><span class="err">&#39;</span><span class="n">keyPassword</span><span class="err">&#39;</span><span class="o">]</span>
            <span class="n">storeFile</span> <span class="nf">file</span><span class="o">(</span><span class="n">keystoreProperties</span><span class="o">[</span><span class="err">&#39;</span><span class="n">storeFile</span><span class="err">&#39;</span><span class="o">])</span>
            <span class="n">storePassword</span> <span class="n">keystoreProperties</span><span class="o">[</span><span class="err">&#39;</span><span class="n">storePassword</span><span class="err">&#39;</span><span class="o">]</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="n">buildTypes</span> <span class="o">{</span>
        <span class="n">release</span> <span class="o">{</span>
            <span class="n">signingConfig</span> <span class="n">signingConfigs</span><span class="o">.</span><span class="na">release</span>
            <span class="n">ndk</span> <span class="o">{</span>
                <span class="n">abiFilters</span> <span class="err">&#39;</span><span class="n">armeabi</span><span class="o">-</span><span class="n">v7a</span><span class="sc">&#39;,&#39;</span><span class="n">x86</span><span class="err">&#39;</span> <span class="c1">// æŒ‡å®šæ‰“åŒ…å¹³å°
</span><span class="c1"></span>            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ç„¶åè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œ<code>flutter build apk</code>ï¼Œå³å¯ä»¥æ‰“åŒ…ä¸€ä¸ªå®‰å“apkåŒ…</p>
<h3 id="3iosè°ƒè¯•æ‰“åŒ…æ³¨æ„äº‹é¡¹">3.iOSè°ƒè¯•æ‰“åŒ…æ³¨æ„äº‹é¡¹</h3>
<p><code>iOS</code>æ¨¡æ‹Ÿå™¨è°ƒè¯•ä½“éªŒæ¯”å®‰å“å¥½çš„å¤šï¼Œä½†æ˜¯çœŸæœºè°ƒè¯•ï¼Œé¦–å…ˆä½ å¾—æœ‰ä¸ªè‹¹æœIDï¼Œç„¶åç”¨<code>Xcode</code>æ‰“å¼€é¡¹ç›®ï¼Œç‚¹å‡»<code>Signing &amp; Capabilities</code>ï¼Œæ‰¾åˆ°<code>Team</code>è®¾ç½®ï¼Œè®¾ç½®ä¸€ä¸ªå¼€å‘è´¦å·ï¼Œå¯ä»¥æ˜¯æœªä»˜è´¹æ³¨å†Œçš„è‹¹æœIDï¼Œè®¾ç½®å¥½å¼€å‘è€…è¯ä¹¦</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://i.loli.net/2020/12/05/IM1z4KEkUxPFAvl.jpg"
        data-srcset="https://i.loli.net/2020/12/05/IM1z4KEkUxPFAvl.jpg, https://i.loli.net/2020/12/05/IM1z4KEkUxPFAvl.jpg 1.5x, https://i.loli.net/2020/12/05/IM1z4KEkUxPFAvl.jpg 2x"
        data-sizes="auto"
        alt="https://i.loli.net/2020/12/05/IM1z4KEkUxPFAvl.jpg"
        title="4.png" /></p>
<p>ç„¶å<code>flutter run</code>çš„æ—¶å€™ï¼Œé€‰æ‹©ä¸€ä¸ªçœŸæœºè®¾å¤‡ï¼Œå³å¯åœ¨çœŸæœºä¸Šè°ƒè¯•<code>app</code>äº†ï¼Œä½†æ˜¯æœªä»˜è´¹æ³¨å†Œçš„è‹¹æœIDè¯ä¹¦æœ‰æ•ˆæœŸåªæœ‰ä¸ƒå¤©ï¼Œä¸ƒå¤©åä½ æ‰‹æœºä¸Šçš„<code>app</code>å°±ä¸å¯ç”¨äº†ã€‚</p>
<p>æœªä»˜è´¹æ³¨å†Œçš„è´¦å·ä¹Ÿæ— æ³•æ‰“åŒ…ä¸Šä¼ <code>App Store</code>ï¼Œä¸è¿‡é…ç½®å®Œäº†å¼€å‘å›¢é˜Ÿã€è´¦å·åã€å¼€å‘è¯ä¹¦åï¼Œå¯ä»¥ç›´æ¥<code>flutter build ios</code>ï¼Œè¿™æ ·ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚è¿™æ—¶å€™åˆ›å»ºä¸€ä¸ªåä¸º<code>Payload</code>çš„æ–‡ä»¶å¤¹ï¼Œå°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ”¾è¿›å»ã€å‹ç¼©ï¼Œç„¶åå°†å‹ç¼©æ–‡ä»¶åç¼€æ”¹ä¸º<code>ipa</code>ï¼Œå³å¯ä»¥ç”Ÿæˆä¸€ä¸ª<code>ipa</code>æ–‡ä»¶äº†ã€‚ç„¶åå€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå¦‚<code>itunes(è²Œä¼¼å·²ç»ä¸èƒ½ç”¨)ã€xxxåŠ©æ‰‹</code>å³å¯å°†è¿™ä¸ªæ–‡ä»¶å®‰è£…åœ¨ç»ˆç«¯ä¸Šè¿è¡Œã€‚</p>
<h2 id="11æ€»ç»“">11.æ€»ç»“</h2>
<p>æ–­æ–­ç»­ç»­åšè¿™ä¸ªå°é¡¹ç›®å·²ç»æœ‰å‡ ä¸ªæœˆäº†ï¼Œå› ä¸ºå¹³å¸¸å¾ˆå¿™ï¼Œæ‰€ä»¥æ‹–äº†è¿™ä¹ˆä¹…ã€‚<code>Flutter</code>ç»™æˆ‘çš„æ„Ÿè§‰ä¼˜ç‚¹å°±æ˜¯æµç¨‹ã€åŠ¨ç”»è¾ƒä¸ºç»†è…»ï¼Œç›¸å¯¹äºå…¶å®ƒè·¨å¹³å°æ–¹æ¡ˆï¼Œä½¿ç”¨<code>JsBrigde</code>ä¸<code>native</code>ç«¯é€šä¿¡ï¼Œæœ‰è¾ƒå¤§çš„ä¼˜åŠ¿ï¼Œæ¯•ç«Ÿå®ƒæ˜¯è‡ªå·±çš„å¼•æ“ç»˜åˆ¶çš„é¡µé¢ã€‚ä½†æ˜¯å®ƒçš„å®˜æ–¹ç»„ä»¶å¤ªå°‘ï¼Œè‡ªå®šä¹‰ç»„ä»¶æ‰€éœ€ç²¾åŠ›è¾ƒå¤š(å¯èƒ½æ˜¯æˆ‘ä¸ç†Ÿæ‚‰)ï¼Œ<code>iOS</code>é£æ ¼ç»„ä»¶è™½ç„¶æ ·å¼å’ŒåŸç”Ÿçš„å·®ä¸å¤šï¼Œä½†å…·ä½“æ•ˆæœè¿˜æ˜¯æœ‰å·®è·ã€‚è¿™ç§è·¨å¹³å°æ¡†æ¶ç»ˆäºè¿˜æ˜¯å¾—è¦å’ŒåŸç”Ÿå¼€å‘äººå‘˜ä¸€èµ·æ“ä½œæ‰ç©çš„æºœã€‚</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2020-12-05</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://luckly.work/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/" data-title="Flutterå„ç§è¸©å‘å¿ƒå¾—"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://luckly.work/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Hacker News" data-sharer="hackernews" data-url="https://luckly.work/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/" data-title="Flutterå„ç§è¸©å‘å¿ƒå¾—"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://luckly.work/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/" data-title="Flutterå„ç§è¸©å‘å¿ƒå¾—"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://luckly.work/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/" data-title="Flutterå„ç§è¸©å‘å¿ƒå¾—"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/flutter%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/" class="prev" rel="prev" title="Flutterè‡ªå®šä¹‰ç»„ä»¶"><i class="fas fa-angle-left fa-fw"></i>Flutterè‡ªå®šä¹‰ç»„ä»¶</a>
            <a href="/react%E8%B0%83%E5%BA%A6%E8%BF%87%E7%A8%8B/" class="next" rel="next" title="Reactè°ƒåº¦è¿‡ç¨‹">Reactè°ƒåº¦è¿‡ç¨‹<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">æ—©èµ·çš„è€å¹´äºº</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10000},"comment":{},"data":{"id-1":"ä¸‰å—ç»™ä½ ä¹°éº»å‰","id-2":"ä¸‰å—ç»™ä½ ä¹°éº»å‰"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
