<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  
  
  
  
  <link rel="prev" href="https://xtid.github.io/2020/flutter%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/" />
  <link rel="next" href="https://xtid.github.io/2021/react%E8%B0%83%E5%BA%A6%E8%BF%87%E7%A8%8B/" />
  <link rel="canonical" href="https://xtid.github.io/2020/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" sizes="32x32" href="/favicon.ico">
  <link rel="icon" sizes="16x16" href="/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Flutterå„ç§è¸©å‘å¿ƒå¾— | ğŸ‘¨ğŸ»â€ğŸ’»
       
  </title>
  <meta name="title" content="Flutterå„ç§è¸©å‘å¿ƒå¾— | ğŸ‘¨ğŸ»â€ğŸ’»">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/xtid.github.io"
    },
    "articleSection" : "posts",
    "name" : "Flutterå„ç§è¸©å‘å¿ƒå¾—",
    "headline" : "Flutterå„ç§è¸©å‘å¿ƒå¾—",
    "description" : "1.å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½® é¦–å…ˆä¿®æ”¹ä½ åˆ›å»ºçš„é¡¹ç›®ä¸­çš„\/android\/build.gradleæ–‡ä»¶ï¼Œä¿®æ”¹buildscriptä»¥åŠallpro",
    "inLanguage" : "zh-CN",
    "author" : "",
    "creator" : "",
    "publisher": "",
    "accountablePerson" : "",
    "copyrightHolder" : "",
    "copyrightYear" : "2020",
    "datePublished": "2020-12-05 16:06:56 \x2b0800 CST",
    "dateModified" : "2020-12-05 16:06:56 \x2b0800 CST",
    "url" : "https:\/\/xtid.github.io\/2020\/flutter%E5%90%84%E7%A7%8D%E8%B8%A9%E5%9D%91%E5%BF%83%E5%BE%97\/",
    "wordCount" : "2771",
    "keywords" : [  "ğŸ‘¨ğŸ»â€ğŸ’»"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://xtid.github.io">ğŸ‘¨ğŸ»â€ğŸ’»</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/links/" title="">Links</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://xtid.github.io">ğŸ‘¨ğŸ»â€ğŸ’»</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/links/" title="">Links</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Flutterå„ç§è¸©å‘å¿ƒå¾—</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://xtid.github.io" rel="author"></a> with â™¥ 
                <span class="post-time">
                on <time datetime=2020-12-05 itemprop="datePublished">December 5, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://xtid.github.io/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"> æ—¥å¸¸å­¦ä¹  </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          

<h2 id="1-å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®">1.å®‰å“å¼€å‘ç¯å¢ƒçš„åŸºæœ¬é…ç½®</h2>

<p>é¦–å…ˆä¿®æ”¹ä½ åˆ›å»ºçš„é¡¹ç›®ä¸­çš„<code>/android/build.gradle</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>buildscript</code>ä»¥åŠ<code>allprojects</code>çš„ä»“åº“åœ°å€ï¼Œå¦åˆ™ç¼–è¯‘æ‰“åŒ…ä¼šå¡ä½ä¸åŠ¨ï¼Œå…¶æ¬¡å°±æ˜¯<code>package get</code>ä¼šå¡ä½ï¼ŒåŸå› æ˜¯å› ä¸ºè¿æ¥ä¸ä¸Šè°·æ­Œçš„æœåŠ¡ï¼Œæœ‰ç‚¹è›‹ç–¼</p>

<pre><code class="language-java">buildscript {
    repositories {
        // google()
        // jcenter()
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/jcenter' }
        maven { url 'https://maven.aliyun.com/nexus/content/groups/public' }
    }
}

allprojects {
    repositories {
        // google()
        // jcenter()
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/jcenter' }
        maven { url 'https://maven.aliyun.com/nexus/content/groups/public' }
    }

</code></pre>

<h2 id="2-signlechildscrollviewé¡µé¢ä¸æ»¡ä¸€å±æ— æ³•æ’‘æ»¡å…¨å±">2.SignleChildScrollViewé¡µé¢ä¸æ»¡ä¸€å±æ— æ³•æ’‘æ»¡å…¨å±</h2>

<p>å¯ä»¥æ¢ä¸ªå¸ƒå±€ç»„ä»¶æˆ–è€…å°†å…¶è®¾ç½®ä¸º<code>Container</code>å­ç»„ä»¶ï¼Œè®¾ç½®<code>alignment</code>ï¼Œå¦‚ä¸‹</p>

<pre><code class="language-dart">Container(
  alignment: Alignment.topLeft,
  child: SingleChildScrollView(),
),
</code></pre>

<h2 id="3-è‡ªå®šä¹‰appbar">3.è‡ªå®šä¹‰AppBar</h2>

<p><code>AppBar</code>è¿™ä¸ªç»„ä»¶å¯æ‹“å±•æ€§è¿˜æ˜¯æ¯”è¾ƒä½çš„ï¼Œå°¤å…¶æ˜¯å®ƒçš„é«˜åº¦éƒ½æ˜¯å†™æ­»çš„ï¼Œè¿™ç§æƒ…å†µå¯ä»¥æ¢<code>SliverAppBar</code>æˆ–è€…è‡ªå®šä¹‰<code>AppBar</code>ï¼Œæ¢å¥è¯è¯´è‡ªå®šä¹‰ç»„ä»¶ï¼Œè¿™é‡Œå°±ä¸è¯¦è¯‰</p>

<h2 id="4-pushé¡µé¢è¿”å›-ä¿æŒä¸Šä¸€æ¬¡çš„é¡µé¢ä½ç½®çŠ¶æ€">4.pushé¡µé¢è¿”å›ï¼Œä¿æŒä¸Šä¸€æ¬¡çš„é¡µé¢ä½ç½®çŠ¶æ€</h2>

<p>ä½¿ç”¨ <code>StatefulWidget</code> æ··å…¥ <code>AutomaticKeepAliveClientMixin</code>ï¼Œè¦†ç›–<code>wantKeepAlive</code>å±æ€§</p>

<pre><code class="language-dart">class TesPage extends StatefulWidget {
  @override
  createState() =&gt; TesPageState();
}

class TesPageState extends State&lt;TesPage&gt; with AutomaticKeepAliveClientMixin {
  
  @override
  bool get wantKeepAlive =&gt; true;
}

</code></pre>

<h2 id="5-è·¯ç”±è·³è½¬æ–¹å¼çš„é€‰æ‹©">5.è·¯ç”±è·³è½¬æ–¹å¼çš„é€‰æ‹©</h2>

<p>é€šå¸¸è·¯ç”±è·³è½¬ä¼šç”¨åˆ°<code>Navigator.push</code>æ¨å…¥è·¯ç”±æ ˆï¼Œ<code>Navigator.pop</code>å°±ç§»å‡ºã€è¿”å›ä¸Šä¸€ä¸ªçš„çŠ¶æ€ã€‚å¦‚æœåœ¨é¡µé¢ä¸Šå…¨éƒ¨ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œä½ ä¼šå‘ç°ä½ çš„é¡µé¢é—´çš„è·³è½¬ä»¿ä½›ä¹±äº†ä¸€æ ·ï¼ŒåŸå› å°±æ˜¯<code>Navigator.push</code>æ˜¯æ¯æ¬¡å°†ä½ çš„è·¯ç”±æ¨å…¥æ ˆï¼Œä¹Ÿå°±æ˜¯ä½ å¯ä»¥ä¸€ç›´åšè¿”å›æ“ä½œã€æ‰‹åŠ¿æ¥è·å–ä¹‹å‰çš„é¡µé¢çŠ¶æ€ã€‚è¿™ä¸ªæ—¶å€™å°±è¦è€ƒè™‘ç”¨å…¶ä»–æ–¹å¼ï¼Œå¦‚</p>

<p><code>pushAndRemoveUntil</code>ï¼šè·³è½¬åˆ°æŒ‡å®šè·¯ç”±ï¼Œåˆ é™¤å…ˆå‰çš„è·¯ç”±æ ˆ
<code>pushNamed</code>ï¼šè·³è½¬åˆ°æŒ‡å®šå‘½åè·¯ç”±ï¼Œè·¯ç”±æ ˆä¸ä¼šåˆ é™¤ã€‚è¿™ç§æ–¹å¼éœ€è¦é…åˆå‘½åè·¯ç”±ä½¿ç”¨ï¼Œå³åœ¨å…¥å£æ–‡ä»¶<code>MaterialApp</code>é…ç½®å¥½<code>routes</code>
<code>pushNamedAndRemoveUntil</code>ï¼šè·³è½¬åˆ°æŒ‡å®šè·¯ç”±ï¼Œåˆ é™¤å…ˆå‰çš„è·¯ç”±æ ˆ
<code>pushReplacement</code>ï¼šè·¯ç”±æ›¿æ¢
<code>pushReplacementNamed</code>ï¼šè·³è½¬åˆ°æŒ‡å®šå‘½åè·¯ç”±ï¼Œå¹¶åˆ é™¤æœ€åçš„è·¯ç”±</p>

<h2 id="6-é¡µé¢åˆå§‹åŒ–æ—¶æ‹¿åˆ°context">6.é¡µé¢åˆå§‹åŒ–æ—¶æ‹¿åˆ°context</h2>

<p>æœ‰æ—¶å€™ï¼Œå¯èƒ½ä¼šåœ¨é¡µé¢åˆå§‹åŒ–ä½¿ç”¨<code>context</code>ï¼Œæ¯”å¦‚è¯´è·¯ç”±ç›¸å…³çš„<code>Navigator.of(context)</code>ã€‚è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨<code>initState</code>æ–¹æ³•ä¸­ï¼Œ<code>this</code>æŒ‡å‘ä¸Šä¸‹æ–‡ï¼Œå³ä½¿ç”¨<code>this.context</code>å³å¯ä»¥ä¿å­˜é¡µé¢åˆå§‹çš„<code>context</code></p>

<h2 id="7-é”®ç›˜å¼¹å‡ºæ—¶å°†å¸ƒå±€æ‰“ä¹±-æˆ–è€…è¯´å°†å…ƒç´ é¡¶èµ·æ¥äº†">7.é”®ç›˜å¼¹å‡ºæ—¶å°†å¸ƒå±€æ‰“ä¹±ï¼Œæˆ–è€…è¯´å°†å…ƒç´ é¡¶èµ·æ¥äº†</h2>

<p>åœ¨ <code>Scafold</code> é‡Œè®¾ç½® <code>resizeToAvoidBottomInset: false</code>ï¼Œé”®ç›˜ä¼šé®ä½å¸ƒå±€ï¼Œè€Œä¸æ˜¯é¡¶èµ·å¸ƒå±€ã€‚</p>

<h2 id="8-æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†">8.æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†</h2>

<p>è¯´å®è¯å½“æ—¶å‘ç°<code>Flutter</code>æ— æ³•è®¾ç½®è™šçº¿è¾¹æ¡†çš„æ—¶å€™æˆ‘æ˜¯å¾ˆéœ‡æƒŠçš„ï¼Œæˆ‘æ„Ÿè§‰è¿™ç®—æ˜¯åŸºæœ¬çš„ä¸èƒ½åœ¨åŸºæœ¬çš„å±æ€§äº†ï¼Œè§£å†³æ–¹æ³•ï¼Œå‚è€ƒå®˜æ–¹<code>issues</code>ä¸­å¤§ä½¬çš„è§£æ³•ï¼Œç›®å‰åªèƒ½è‡ªå·±å®ç°<code>paint</code>æ–¹æ³•ï¼Œè‡ªå·±ç”¨<code>Canvas</code>ç”»</p>

<pre><code class="language-dart">import 'package:flutter/material.dart';
import 'package:path_drawing/path_drawing.dart';

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: MyHomePage(title: 'Flutter Demo Home Page'),
    );
  }
}

class MyHomePage extends StatefulWidget {
  MyHomePage({Key key, this.title}) : super(key: key);
  final String title;

  @override
  _MyHomePageState createState() =&gt; _MyHomePageState();
}

class _MyHomePageState extends State&lt;MyHomePage&gt; {
  int _counter = 0;

  void _incrementCounter() {
    setState(() {
      _counter++;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(widget.title),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: &lt;Widget&gt;[
            Container(
              decoration: BoxDecoration(
                border: DashPathBorder.all(
                  dashArray: CircularIntervalList&lt;double&gt;(&lt;double&gt;[5.0, 2.5]),
                ),
              ),
              padding: const EdgeInsets.all(20.0),
              child: const Text('You have pushed the button this many times:'),
            ),
            Text(
              '$_counter',
              style: Theme.of(context).textTheme.display1,
            ),
          ],
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        tooltip: 'Increment',
        child: Icon(Icons.add),
      ),
    );
  }
}

class DashPathBorder extends Border {
  DashPathBorder({
    @required this.dashArray,
    BorderSide top = BorderSide.none,
    BorderSide left = BorderSide.none,
    BorderSide right = BorderSide.none,
    BorderSide bottom = BorderSide.none,
  }) : super(
          top: top,
          left: left,
          right: right,
          bottom: bottom,
        );

  factory DashPathBorder.all({
    BorderSide borderSide = const BorderSide(),
    @required CircularIntervalList&lt;double&gt; dashArray,
  }) {
    return DashPathBorder(
      dashArray: dashArray,
      top: borderSide,
      right: borderSide,
      left: borderSide,
      bottom: borderSide,
    );
  }
  final CircularIntervalList&lt;double&gt; dashArray;

  @override
  void paint(
    Canvas canvas,
    Rect rect, {
    TextDirection textDirection,
    BoxShape shape = BoxShape.rectangle,
    BorderRadius borderRadius,
  }) {
    if (isUniform) {
      switch (top.style) {
        case BorderStyle.none:
          return;
        case BorderStyle.solid:
          switch (shape) {
            case BoxShape.circle:
              assert(borderRadius == null,
                  'A borderRadius can only be given for rectangular boxes.');
              canvas.drawPath(
                dashPath(Path()..addOval(rect), dashArray: dashArray),
                top.toPaint(),
              );
              break;
            case BoxShape.rectangle:
              if (borderRadius != null) {
                final RRect rrect =
                    RRect.fromRectAndRadius(rect, borderRadius.topLeft);
                canvas.drawPath(
                  dashPath(Path()..addRRect(rrect), dashArray: dashArray),
                  top.toPaint(),
                );
                return;
              }
              canvas.drawPath(
                dashPath(Path()..addRect(rect), dashArray: dashArray),
                top.toPaint(),
              );

              break;
          }
          return;
      }
    }

    assert(borderRadius == null,
        'A borderRadius can only be given for uniform borders.');
    assert(shape == BoxShape.rectangle,
        'A border can only be drawn as a circle if it is uniform.');

    // TODO(dnfield): implement when borders are not uniform.
  }
}
</code></pre>

<h2 id="9-ä½¿ç”¨dioæ—¶-è®¾ç½®ç›¸åº”æ•°æ®çš„åª’ä½“ç±»å‹">9.ä½¿ç”¨Dioæ—¶ï¼Œè®¾ç½®ç›¸åº”æ•°æ®çš„åª’ä½“ç±»å‹</h2>

<p>ä½¿ç”¨<code>Dio</code>å°è£…ç½‘ç»œè¯·æ±‚ï¼Œæ™®é€šçš„è¯·æ±‚æœ€å¥½è®¾ç½®ç›¸åº”ç±»å‹<code>dio.options.responseType = ResponseType.json</code>ï¼Œå¦åˆ™å¯èƒ½æ¥æ”¶åˆ°çš„å“åº”å¯èƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p>

<h2 id="10-buildé…ç½®">10.buildé…ç½®</h2>

<h3 id="1-å®‰å“çš„sha1ç è·å–æ–¹å¼">1.å®‰å“çš„SHA1ç è·å–æ–¹å¼</h3>

<p>å¾ˆå¤šç¬¬ä¸‰æ–¹åº”ç”¨éƒ½éœ€è¦ç”¨åˆ°å®‰å“çš„SHA1ç ï¼Œåœ¨<code>Flutter</code>åº”ç”¨ä¸­ï¼Œé¦–å…ˆç”¨<code>Andriod Studio</code>æ‰“å¼€é¡¹ç›®ï¼Œéšæ„é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶ï¼Œç‚¹å‡»å³ä¸Šè§’<code>Open for Editing in Android Studio</code></p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2020/12/05/KrYUhiXpHu3cLBs.png" alt="1.png" class="lazyload"><figcaption class="image-caption">1.png</figcaption></figure></p>

<p>æ‰“å¼€<code>Terminal</code>ï¼Œè¾“å…¥<code>gradlew signingReport</code>ï¼Œmacç¯å¢ƒéœ€è¦æŒ‡å®šå½“å‰ç›®å½•</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2020/12/05/BxEfHGOAtQcLSn7.png" alt="2.png" class="lazyload"><figcaption class="image-caption">2.png</figcaption></figure></p>

<p>æœ€åæ§åˆ¶å°ä¼šæ‰“å°å‡ºåº”ç”¨çš„å„ç§ç­¾åä¿¡æ¯ï¼Œå¤åˆ¶<code>SHA1</code>ç å³å¯</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2020/12/05/6cKCEUzuBRS5Ohw.jpg" alt="3.jpg" class="lazyload"><figcaption class="image-caption">3.jpg</figcaption></figure></p>

<h3 id="2-å®‰å“æ‰“åŒ…-release-é…ç½®">2.å®‰å“æ‰“åŒ…<code>release</code>é…ç½®</h3>

<p>é¦–å…ˆæ‰“å¼€<code>/android/build.gradle</code>æ–‡ä»¶ï¼Œåœ¨<code>buildscript</code>ä¸­æŒ‡å®š<code>kotlin_version</code>ï¼Œå¦åˆ™<code>debug</code>ã€<code>release</code>ç¼–è¯‘ä¼šä¸é€šè¿‡</p>

<pre><code class="language-java">buildscript {
    ext.kotlin_version = '1.3.50'
    repositories {
        // google()
        // jcenter()
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/jcenter' }
        maven { url 'https://maven.aliyun.com/nexus/content/groups/public' }
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:3.5.0'
        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;
    }
}
</code></pre>

<p>ç„¶åç”Ÿæˆ<code>key</code>ï¼ŒåŒæ ·æ‰“å¼€<code>Andriod Studio</code>ï¼Œæ‰“å¼€<code>Terminal</code>ï¼Œè¾“å…¥</p>

<pre><code class="language-java">keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key
</code></pre>

<p>ç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šè®©ä½ è¾“å…¥å­˜å‚¨å¯†ç å’Œæ–‡ä»¶å¯†ç ï¼Œç”Ÿæˆå®Œ<code>key</code>åè®°ä½æ–‡ä»¶åœ°å€</p>

<p>ç„¶ååœ¨åœ¨<code>android</code>ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºï¼š<code>key.properties</code></p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2020/12/05/MuVAtUaI3TojQi6.jpg" alt="05D6800C-27E4-4550-A7CD-88C691BC8202.png" class="lazyload"><figcaption class="image-caption">05D6800C-27E4-4550-A7CD-88C691BC8202.png</figcaption></figure></p>

<p>æ·»åŠ å†…å®¹</p>

<pre><code class="language-java">storePassword = // å’Œç”Ÿæˆkeyè¾“å…¥çš„å­˜å‚¨å¯†ç ä¸€è‡´
keyPassword = // å’Œç”Ÿæˆkeyè¾“å…¥çš„å¯†ç ä¸€è‡´
keyAlias = key // 
storeFile = // keyæ–‡ä»¶çš„å­˜å‚¨è·¯å¾„
</code></pre>

<p>æ‰¾åˆ°<code>android/app/build.gradle</code>æ–‡ä»¶ï¼Œæ·»åŠ ç­¾åé…ç½®<code>singingConfig</code>ä»¥åŠæ‰“åŒ…é…ç½®<code>buildTypes</code></p>

<pre><code class="language-java">android {
		.....
    signingConfigs {
        release {
            keyAlias keystoreProperties['keyAlias']
            keyPassword keystoreProperties['keyPassword']
            storeFile file(keystoreProperties['storeFile'])
            storePassword keystoreProperties['storePassword']
        }
    }

    buildTypes {
        release {
            signingConfig signingConfigs.release
            ndk {
                abiFilters 'armeabi-v7a','x86' // æŒ‡å®šæ‰“åŒ…å¹³å°
            }
        }
    }
}
</code></pre>

<p>ç„¶åè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œ<code>flutter build apk</code>ï¼Œå³å¯ä»¥æ‰“åŒ…ä¸€ä¸ªå®‰å“apkåŒ…</p>

<h3 id="3-iosè°ƒè¯•æ‰“åŒ…æ³¨æ„äº‹é¡¹">3.iOSè°ƒè¯•æ‰“åŒ…æ³¨æ„äº‹é¡¹</h3>

<p><code>iOS</code>æ¨¡æ‹Ÿå™¨è°ƒè¯•ä½“éªŒæ¯”å®‰å“å¥½çš„å¤šï¼Œä½†æ˜¯çœŸæœºè°ƒè¯•ï¼Œé¦–å…ˆä½ å¾—æœ‰ä¸ªè‹¹æœIDï¼Œç„¶åç”¨<code>Xcode</code>æ‰“å¼€é¡¹ç›®ï¼Œç‚¹å‡»<code>Signing &amp; Capabilities</code>ï¼Œæ‰¾åˆ°<code>Team</code>è®¾ç½®ï¼Œè®¾ç½®ä¸€ä¸ªå¼€å‘è´¦å·ï¼Œå¯ä»¥æ˜¯æœªä»˜è´¹æ³¨å†Œçš„è‹¹æœIDï¼Œè®¾ç½®å¥½å¼€å‘è€…è¯ä¹¦</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://i.loli.net/2020/12/05/IM1z4KEkUxPFAvl.jpg" alt="4.png" class="lazyload"><figcaption class="image-caption">4.png</figcaption></figure></p>

<p>ç„¶å<code>flutter run</code>çš„æ—¶å€™ï¼Œé€‰æ‹©ä¸€ä¸ªçœŸæœºè®¾å¤‡ï¼Œå³å¯åœ¨çœŸæœºä¸Šè°ƒè¯•<code>app</code>äº†ï¼Œä½†æ˜¯æœªä»˜è´¹æ³¨å†Œçš„è‹¹æœIDè¯ä¹¦æœ‰æ•ˆæœŸåªæœ‰ä¸ƒå¤©ï¼Œä¸ƒå¤©åä½ æ‰‹æœºä¸Šçš„<code>app</code>å°±ä¸å¯ç”¨äº†ã€‚</p>

<p>æœªä»˜è´¹æ³¨å†Œçš„è´¦å·ä¹Ÿæ— æ³•æ‰“åŒ…ä¸Šä¼ <code>App Store</code>ï¼Œä¸è¿‡é…ç½®å®Œäº†å¼€å‘å›¢é˜Ÿã€è´¦å·åã€å¼€å‘è¯ä¹¦åï¼Œå¯ä»¥ç›´æ¥<code>flutter build ios</code>ï¼Œè¿™æ ·ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚è¿™æ—¶å€™åˆ›å»ºä¸€ä¸ªåä¸º<code>Payload</code>çš„æ–‡ä»¶å¤¹ï¼Œå°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ”¾è¿›å»ã€å‹ç¼©ï¼Œç„¶åå°†å‹ç¼©æ–‡ä»¶åç¼€æ”¹ä¸º<code>ipa</code>ï¼Œå³å¯ä»¥ç”Ÿæˆä¸€ä¸ª<code>ipa</code>æ–‡ä»¶äº†ã€‚ç„¶åå€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå¦‚<code>itunes(è²Œä¼¼å·²ç»ä¸èƒ½ç”¨)ã€xxxåŠ©æ‰‹</code>å³å¯å°†è¿™ä¸ªæ–‡ä»¶å®‰è£…åœ¨ç»ˆç«¯ä¸Šè¿è¡Œã€‚</p>

<h2 id="11-æ€»ç»“">11.æ€»ç»“</h2>

<p>æ–­æ–­ç»­ç»­åšè¿™ä¸ªå°é¡¹ç›®å·²ç»æœ‰å‡ ä¸ªæœˆäº†ï¼Œå› ä¸ºå¹³å¸¸å¾ˆå¿™ï¼Œæ‰€ä»¥æ‹–äº†è¿™ä¹ˆä¹…ã€‚<code>Flutter</code>ç»™æˆ‘çš„æ„Ÿè§‰ä¼˜ç‚¹å°±æ˜¯æµç¨‹ã€åŠ¨ç”»è¾ƒä¸ºç»†è…»ï¼Œç›¸å¯¹äºå…¶å®ƒè·¨å¹³å°æ–¹æ¡ˆï¼Œä½¿ç”¨<code>JsBrigde</code>ä¸<code>native</code>ç«¯é€šä¿¡ï¼Œæœ‰è¾ƒå¤§çš„ä¼˜åŠ¿ï¼Œæ¯•ç«Ÿå®ƒæ˜¯è‡ªå·±çš„å¼•æ“ç»˜åˆ¶çš„é¡µé¢ã€‚ä½†æ˜¯å®ƒçš„å®˜æ–¹ç»„ä»¶å¤ªå°‘ï¼Œè‡ªå®šä¹‰ç»„ä»¶æ‰€éœ€ç²¾åŠ›è¾ƒå¤š(å¯èƒ½æ˜¯æˆ‘ä¸ç†Ÿæ‚‰)ï¼Œ<code>iOS</code>é£æ ¼ç»„ä»¶è™½ç„¶æ ·å¼å’ŒåŸç”Ÿçš„å·®ä¸å¤šï¼Œä½†å…·ä½“æ•ˆæœè¿˜æ˜¯æœ‰å·®è·ã€‚è¿™ç§è·¨å¹³å°æ¡†æ¶ç»ˆäºè¿˜æ˜¯å¾—è¦å’ŒåŸç”Ÿå¼€å‘äººå‘˜ä¸€èµ·æ“ä½œæ‰ç©çš„æºœã€‚</p>

    </div>

    

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="https://xtid.github.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://xtid.github.io/2020/flutter%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/" class="prev" rel="prev" title="Flutterè‡ªå®šä¹‰ç»„ä»¶"><i class="iconfont icon-left"></i>&nbsp;Flutterè‡ªå®šä¹‰ç»„ä»¶</a>
         
        
        <a href="https://xtid.github.io/2021/react%E8%B0%83%E5%BA%A6%E8%BF%87%E7%A8%8B/" class="next" rel="next" title="Reactè°ƒåº¦è¿‡ç¨‹">Reactè°ƒåº¦è¿‡ç¨‹&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



     </div>
  </body>
</html>
